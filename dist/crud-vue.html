<script type="text/x-template" id="action-template">
    <span>
        <button v-if="controlType=='button'" type="button" v-show="_visible" :title="title | translate" :class="css" v-on:click="_execute" v-bind:disabled="_disabled">
            <i v-show="icon" :class="icon"></i>
            <span>{{text | translate}}</span>
        </button>
        <a v-else :target="target" :href="href" v-show="_visible" :title="title | translate" :class="css" :disabled="_disabled" >
            <i v-show="icon" :class="icon"></i>
            <span>{{text | translate}}</span>
        </a>
    </span>
</script>
<template id="c-tpl-record-template">
    <div>
        <label>{{cRender.label | translate}}</label>
        <v-render :c-render="cRender"></v-render>
    </div>
</template>

<template id="c-tpl-record2-template">
    <div class="row">
        <div class="col col-sm-6">{{cRender.label | translate}}</div>
        <div class="col col-sm-6">
            <v-render :c-render="cRender"></v-render>
        </div>
    </div>
</template>

<template id="c-tpl-list-template">
    <v-render :c-render="cRender"></v-render>
</template>

<template id="c-tpl-no-template">
    <v-render :c-render="cRender"></v-render>
</template>
<script type="text/x-template" id="c-paginator-template">
    <div>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-end">
                <li v-show="(parseInt(current_page) > 1)" class="page-item"> <!-- disabled -->
                    <a class="page-link" href="javascript:void(0)" tabindex="-1" v-on:click="firstPage()" >&laquo;</a>
                </li>
                <li v-show="(current_page - 2) > 0 " class="page-item">
                    <a v-on:click="setPage(current_page - 2)" class="page-link" href="javascript:void(0)" >
                        {{ current_page - 2 }}
                    </a>
                </li>
                <li v-show="(current_page - 1) > 0 " class="page-item">
                    <a v-on:click="setPage(current_page - 1)" class="page-link" href="javascript:void(0)">
                        {{  current_page - 1 }}
                    </a>
                </li>
                <li class="page-item"><a class="page-link">
                        pag. {{ current_page }} / {{ last_page }} <small>({{ from + '-' + to + " di " + total }} elementi)</small>
                    </a></li>
                <li v-show="(current_page + 1) <=  last_page " class="page-item">
                    <a  v-on:click="setPage(current_page + 1)" class="page-link" href="javascript:void(0)">
                        {{ current_page + 1 }}
                    </a>
                </li>
                <li v-show="(current_page + 2) <=  last_page "  class="page-item">
                    <a  v-on:click="setPage(current_page + 2)" class="page-link" href="javascript:void(0)">
                        {{ current_page + 2 }}
                    </a>
                </li>
                <li v-show="(parseInt(current_page) < last_page)" class="page-item">
                    <a class="page-link" href="javascript:void(0)" v-on:click="lastPage()">&raquo;</a>
                </li>
            </ul>
        </nav>
    </div>
</script>
<template id="d-confirm-template">
    <div c-confirm-dialog class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-default">{{message}}</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="ok">Ok</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" v-on:click="cancel">Annulla</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template id="d-message-template">
    <div c-message-dialog class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info">{{message}}</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="ok">Ok</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template id="d-error-template">
    <div c-error-dialog class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger">{{message}}</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="ok">Ok</button>
                </div>
            </div>
        </div>
    </div>
</template>


<template id="d-warning-template">
    <div c-warning-dialog class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">{{message}}</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="ok">Ok</button>
                </div>
            </div>
        </div>
    </div>
</template>

<template id="d-custom-template">
    <div c-custom-dialog class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ title }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" v-html="content">

                </div>
                <div class="modal-footer">
                    <template v-for="(cb,key) in cCallbacks">
                        <action-dialog :c-conf="cb" ></action-dialog>
                    </template>
                </div>
            </div>
        </div>
    </div>
</template>
<script type="text/x-template" id="r-render-template">
    <component :is="type" :c-conf="item" :c-key="key"></component>
</script>
<script type="text/x-template" id="r-custom-template">
    <div v-html="value">

    </div>
</script>
<script type="text/x-template" id="r-input-template">
    <div>
        <input class="form-control" :type="inputType" v-model="value" v-bind:name="getFieldName()" v-bind:c-marker="cMarker" v-on:change="change">
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</script>
<script type="text/x-template" id="r-input-helped-template">
    <div>
        <div crud-render_element>
            <input v-bind:readonly="!customValue"
                   class="form-control" type="text" name="getFieldName()" v-model="value"
                   v-bind:c-marker="cMarker" v-on:change="change" >
            <div>
                <div class="btn-group btn-group-sm" role="group" aria-label="...">
                    <button v-for="(label,dVal) in domainValues" type="button" class="btn btn-outline-secondary" v-on:click="setValue(dVal)">{{label}}</button>
                </div>
            </div>
        </div>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</script>
<script type="text/x-template" id="r-hidden-template">
    <div>
        <input v-model="value" :name="getFieldName()" type="hidden" :c-marker="cMarker">
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden"/>
    </div>
</script>
<script type="text/x-template" id="r-text-template">
    <div>{{value}}</div>
</script>
<script type="text/x-template" id="r-image-template">
    <img :src="value">
</script>
<script type="text/x-template" id="r-download-template">
    <a :href="value" target="_blank"><i :class="icon"></i></a>
</script>
<script type="text/x-template" id="r-textarea-template">
    <div>
        <textarea class="form-control" v-model="value" v-bind:name="getFieldName()"
                  v-bind:c-marker="cMarker" v-on:change="change"></textarea>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden"/>
    </div>

</script>
<script type="text/x-template" id="r-select-template">
    <div>
        <select class="form-control" v-bind:name="getFieldName()" v-model="value" v-bind:c-marker="cMarker"
                v-on:change="change">
            <option v-for="key in domainValuesOrder" :value="key"
                    >{{domainValues[key]}}</option>
        </select>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden"/>
    </div>
</script>
<script type="text/x-template" id="r-radio-template">
    <div>
        <div class="form-check-inline"  v-for="key in domainValuesOrder">
            <label class="form-check-label">
                <input class="form-control-input" v-bind:name="getFieldName()" type="radio"  :value="key"
                       v-model="value"
                       v-bind:c-marker="cMarker" v-on:change="change">&nbsp;&nbsp;{{domainValues[key]}}
            </label>
        </div>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden"/>
    </div>
</script>
<script type="text/x-template" id="r-checkbox-template">
    <div class="form-check-inline">
        <div class="" v-for="key in domainValuesOrder">
            <input class="form-check-input" v-bind:name="getFieldName()" type="checkbox"  :value="key"
                   v-model="value"
                   v-bind:c-marker="cMarker" v-on:change="change" >
            <label class="form-check-label" >{{domainValues[key]}}&nbsp;&nbsp;&nbsp;</label>
        </div>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden"/>
    </div>
</script>
<template id="r-autocomplete-template">
    <div class="input-group">
        <span class="input-group-addon">{{label}}</span>
        <input type="search" c-autocomplete class="form-control mdb-autocomplete">
        <button class="input-group-btn btn btn-default" v-on:click="clear">
            <i class="fa fa-times"></i>
        </button>
        <input v-model="value" :name="getFieldName()" type="hidden" :c-marker="cMarker">
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</template>
<template id="r-belongsto-template">
    <div>
        <span v-for="field in fields">{{value[field]}}&nbsp;</span>
    </div>
</template>
<script type="text/x-template" id="r-date-select-template">
    <div v-if="resourcesLoaded" class="input-group">
        <input type="hidden"  v-model="value" v-bind:name="getFieldName()" v-bind:c-marker="cMarker" v-on:change="change">
        <r-select ref="day" v-bind:c-conf="cDay" c-marker="day"></r-select>
        <r-select ref="month" v-bind:c-conf="cMonth" c-marker="month"></r-select>
        <r-select ref="year" v-bind:c-conf="cYear" c-marker="year"></r-select>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</script>
<script type="text/x-template" id="r-date-picker-template">
    <div class="input-group">
        <input type="hidden"  v-model="value" v-bind:name="getFieldName()" v-bind:c-marker="cMarker" v-on:change="change">
        <input c-picker >
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</script>
<script type="text/x-template" id="r-texthtml-template">
<!--    <textarea v-bind:c-key="getFieldName" c-summernote v-model="value" class="summernote form-control" c-lang="it-IT"></textarea>-->
    <div>
        <input c-summernote  type="hidden" v-model="value" :name="getFieldName()" :c-marker="cMarker" v-on:change="change">
        <div class="summernote" v-html="value">

        </div>
    </div>
</script>
<template id="r-hasmany-template">
    <div class="card"  >
        <div class="card-body">
            <!--<input type="hidden" :name="cKey + '_exists'" value="1">-->
            <div class="card">
                <!--<div class="card-header" crud-hasmany_title>-->
                    <!--{{cConf.metadata.modelName}}-->
                <!--</div>-->
                <div class="">
                    <p crud-hasmany_title_msg></p>
                    <ul class="list-inline"  >
                        <!--  -- contenitore delle views hasmany -- -->
                        <li v-for="(item,index) in confViews" v-show="showItem(index)" class="list-inline-item">
                            <div class="card">
                                <div class="card-header">
                                    <small class="pull-left" crud-field="label" crud-trim="12" crud-attrs="{title:label}"></small>
                                    <button v-on:click="deleteItem(index)" class="btn-danger btn-sm pull-right" type="button"  title="Cancella elemento"><i class="fa fa-times-circle"></i></button>
<!--                                    {{cConf.metadata.modelName}}-->
                                </div>
                                <v-hasmany v-bind:c-model="name" v-bind:c-conf="item"></v-hasmany>

                            </div>
                        </li>
                    </ul>

                </div>
                <div class="panel-footer">
                    <div >
                        <div v-if="outOfLimit()">
                            <!-- Limite massimo raggiunto -->
                            {{  'app.limite-raggiunto' | translate }}
                        </div>
                        <button v-else v-on:click="addItem" type="button" class="btn btn-outline-primary btn-sm">
                            <span >{{ 'app.add' | translate }}</span>&nbsp;
<!--                            <span crud-label="modelMetadata.singular"></span>&nbsp;-->
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script type="text/x-template" id="r-hasmany-view-template">
    <div crud-render_element>
        <div class="list-unstyled" crud-render_list >
            <!--  -- contenitore lista hasmany data dal template  default_hasmany_view_items_tpl-- -->
            <ul class="list-unstyled" v-for="(item,index) in value">
                <li>
                    <v-hasmany-view v-bind:c-model="cConf.metadata.modelName" v-bind:c-conf="getHasmanyConf(index,item)"></v-hasmany-view>

                </li>
            </ul>
        </div>
    </div>
</script>

<script type="text/x-template" id="r-hasmany-view-template1">
    <div crud-render_element>
        <div class="list-unstyled" crud-render_list >
            <!--  -- contenitore lista hasmany data dal template  default_hasmany_view_items_tpl-- -->
            <ul class="list-unstyled" v-for="item in value">
                <li>
                    elemento1
                    <span crud-field="label" ></span>
                </li>
            </ul>
        </div>
    </div>
</script>
<script type="text/x-template" id="r-swap-template">
    <button type="button" class="btn btn-outline-secondary btn-sm" v-bind:title="title" v-on:click="swap">
        <span v-show="swapType=='text'">{{ slot }}</span>
        <i  v-show="swapType=='icon'" v-bind:class="slot"></i>
    </button>
</script>
<template id="r-hasmany-through-template">
    <div class="card"  >
        <div class="card-body">
            <div class="panel panel-warning">
                <div class="panel-heading" crud-hasmany_title>
                </div>
                <div class="panel-body">
                    <p crud-hasmany_title_msg></p>
                    <ul class="list-group list-group-horizontal"  >
                        <!--  -- contenitore hasmany -- -->
                        <li v-for="item in value"  class="list-group-item" >
                            <v-hasmany v-bind:c-model="cConf.metadata.modelName" v-bind:c-conf="getHasmanyConf(item)"></v-hasmany>
                            <hr />
                        </li>
                    </ul>

                </div>
                <div class="panel-footer">
                    <div >
                        <div crud-render_limit class="hide">
                            <!-- Limite massimo raggiunto -->
                            {{'app.limite-raggiunto' | translate }}
                        </div>
                        <button v-on:click="addItem" type="button" class="btn btn-primary btn-sm">
                            <span >{{'app.add' | translate}}</span>&nbsp;
<!--                            <span crud-label="modelMetadata.singular"></span>&nbsp;-->
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="r-b2-select2-template">
    <div>
        <select c-select2 class="form-control m-select2"
                v-bind:name="getFieldName()" v-model="value" v-bind:c-marker="cMarker" v-on:change="change">
        </select>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</template>
<template id="r-b2m-select2-template">
    <div>
        <select c-select2 class="form-control m-select2" name="" multiple="true"
                v-model="value" v-bind:c-marker="cMarker" v-on:change="change">

        </select>
        <div c-selected-items>
            <!-- hidden input for selected items -->
        </div>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</template>
<template id="r-upload-template">
    <div>
        <div v-show="extensions">
            <span crud-label="app.accepted-extensions">Estensioni accettate: </span>
            <span v-show="extensions">{{extensions.join(',')}}</span>
        </div>
        <div v-show="maxFileSize">
            Dimensione massima: <span crud-label="app.upload-max-filesize" >{{maxFileSize}}</span>
        </div>
        <div>
            <input :name="getFieldName()" c-file class="btn btn-outline-secondary" type="file" v-on:change="validate()" v-bind:c-marker="cMarker">
        </div>
        <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
    </div>
</template>
<script type="text/x-template" id="r-upload-ajax-template">
    <div class="row">
        <div class="col-8">
            <div v-show="error" class="alert alert-danger">{{errorMessage}}</div>
            <input type="hidden" v-model="value" :name="getFieldName()" >
            <div>
                <div v-show="extensions">
                    <span crud-label="app.accepted-extensions">Estensioni accettate: </span>
                    <span v-show="extensions">{{extensions.join(',')}}</span>
                </div>
                <div v-show="maxFileSize">
                    Dimensione massima: <span crud-label="app.upload-max-filesize" >{{maxFileSize}}</span>
                </div>
                <div>
                    <input c-file class="btn btn-outline-secondary" type="file" v-on:change="validate()" v-bind:c-marker="cMarker">
                </div>
                <input c-operator v-model="operator" v-bind:name="getOperatorName()" type="hidden" />
            </div>
        </div>
        <div class="col-4">
            <r-preview :c-conf="previewConf"></r-preview>
        </div>
    </div>
</script>
<script type="text/x-template" id="r-preview-template">
    <div>
        <img v-if="getType()=='image'" :src="value.url">
        <a v-else-if="getType()=='doc'" :href="value.url">
            <i :class="iconClass"></i>
        </a>
        <small v-else class="text-danger">
            <span v-if="value.url">{{getType()}} mimetype non riconosciuto</span>
        </small>
    </div>
</script>

<script type="text/x-template" id="v-list-template">
    <div>
        <h4 v-show="viewTitle">{{viewTitle}}</h4>
        <c-loading v-if="loading"></c-loading>
        <div v-else>
            <div class="float-none">
                <div class="float-left" v-show="collectionActionsName.length">
                    <template v-for="name in collectionActionsName">
                        <component  v-bind:is="name" v-bind:c-conf="collectionActions[name]"></component>
                    </template>
                </div>
                <div class="float-right">
                    <c-paginator v-if="renders.length > 0" v-show="pagination" v-bind:c-route-conf="routeConf" v-bind:c-pagination="pagination" v-bind:c-route="route"></c-paginator>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped" >
                    <thead>
                    <tr v-if="renders.length > 0">
                        <th v-show="recordActionsName.length">
                            <input c-row-check-all v-on:change="selectAllRows" v-show="needSelection" class="btn btn-sm btn-outline-secondary" type="checkbox" >
                            <span>{{"app.actions" | translate }}</span>
                        </th>
                        <th v-for="key in keys">
                            <action-order v-if="conf.orderFields[key]" v-bind:c-conf="getOrderConf(key)"></action-order>
                            <span v-else>{{key | translate(langContext) }}</span>
                        </th>
                    </tr>
                    <tr v-if="renders.length == 0">
                        <th v-show="recordActionsName.length">
                            {{"app.nessun-elemento" | translate }}
                        </th>
                    </tr>
                    </thead>
                    <tbody >
                    <tr v-for="(row,index) in renders">
                        <td v-show="recordActionsName.length">

                            <div class="btn-group btn-group-sm" role="group">
                                <div class="input-group-text bg-transparent">
                                    <input c-row-check v-show="needSelection"  type="checkbox">
                                </div>

                                <template v-for="(action,name) in recordActions[index]">
                                    <component  v-bind:is="name" v-bind:c-conf="action"></component>
                                </template>
                            </div>

                        </td>
                        <td v-for="(render, key) in row">
                            <component :is="render.template" :c-type="render.type" :c-render="render" :c-key="key"></component>

<!--                            <component v-bind:is="render.type" v-bind:c-conf="render" v-bind:c-key="key"></component>-->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="float-none">
                <div class="float-left" v-show="collectionActionsName.length">
                    <template v-for="name in collectionActionsName">
                        <component  v-bind:is="name" v-bind:c-conf="collectionActions[name]"></component>
                    </template>
                </div>
                <div class="float-right">
                    <c-paginator v-if="renders.length > 0" v-show="pagination" v-bind:c-route-conf="routeConf" v-bind:c-pagination="pagination" v-bind:c-route="route"></c-paginator>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/x-template" id="v-list-edit-template">
    <div>
        <h4 v-show="viewTitle">{{viewTitle}}</h4>
        <c-loading v-if="loading"></c-loading>
        <div v-else>
            <div class="float-none">
                <div class="float-left" v-show="collectionActionsName.length">
                    <template v-for="name in collectionActionsName">
                        <component  v-bind:is="name" v-bind:c-conf="collectionActions[name]"></component>
                    </template>
                </div>
                <div class="float-right">
                    <c-paginator v-bind:c-route-conf="routeConf" v-bind:c-pagination="pagination" v-bind:c-route="route"></c-paginator>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped" >
                    <thead>
                    <tr>
                        <th v-show="recordActionsName.length">
                            <input c-row-check-all v-on:change="selectAllRows" v-show="needSelection" class="btn btn-sm btn-outline-secondary" type="checkbox" >
                            <span>{{"app.actions" | translate }}</span>
                        </th>
                        <th v-for="key in keys">
                            <span v-show="!conf.orderFields[key]">{{key}}</span>
                            <action-order v-show="conf.orderFields[key]" v-bind:c-conf="getOrderConf(key)"></action-order>
                        </th>
                    </tr>
                    <tr v-if="renders.length == 0">
                        <th v-show="recordActionsName.length">
                            {{"app.nessun-elemento" | translate }}
                        </th>
                    </tr>
                    </thead>
                    <tbody >
                    <tr v-for="(row,index) in renders">
                        <td v-show="recordActionsName.length">

                            <div class="btn-group" role="group">
                                <div class="input-group-text bg-transparent">
                                    <input c-row-check v-show="needSelection"  type="checkbox">
                                </div>

                                <template v-for="(action,name) in recordActions[index]">
                                    <component  v-bind:is="name" :c-ref="'ra-'+index+'-'+name"  v-bind:c-conf="action"></component>
                                </template>
                            </div>

                        </td>
                        <td v-for="(render, key) in row">
                            <component v-if="!editMode[index]" :is="render.type"            :c-conf="render"            :c-key="key" :c-ref="'rv-'+index+'-'+key"></component>
                            <component v-if="editMode[index]" :is="rendersEdit[index][key].type"  :c-conf="rendersEdit[index][key]"  :c-key="key" :c-ref="'re-'+index+'-'+key"></component>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="float-none">
                <div class="float-left" v-show="collectionActionsName.length">
                    <template v-for="name in collectionActionsName">
                        <component  v-bind:is="name" v-bind:c-conf="collectionActions[name]"></component>
                    </template>
                </div>
                <div class="float-right">
                    <c-paginator v-bind:c-route-conf="routeConf" v-bind:c-pagination="pagination" v-bind:c-route="route"></c-paginator>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/x-template" id="v-edit-template">
    <div class="container-fluid">
        <slot><h4 card-title v-show="viewTitle">{{viewTitle}}</h4></slot>
        <c-loading v-if="loading"></c-loading>
        <form v-else enctype="multipart/form-data">
            <div  v-for="(item, key) in renders">
                <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>
                <component v-if="item.type=='r-hidden'" :is="item.type" :c-conf="item" :c-key="getFieldName(key)"></component>
            </div>
        </form>
        <div class="p-3" v-show="actions.length">
            <template v-for="(action,name) in actionsClass">
                <component  v-bind:is="name" v-bind:c-conf="action"></component>
            </template>
        </div>
    </div>
</script>
<script type="text/x-template" id="v-view-template">
    <div>
        <h4 v-show="viewTitle">{{viewTitle}}</h4>
        <c-loading v-if="loading"></c-loading>
        <div v-else v-for="(item, key) in renders">
            <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>
            <component v-if="item.type=='r-hidden'" :is="item.type" :c-conf="item" :c-key="getFieldName(key)"></component>
        </div>
        <div v-show="actionsName.length">
            <template v-for="(action,name) in actions">
                <component  v-bind:is="name" v-bind:c-conf="action"></component>
            </template>
        </div>
    </div>
</script>
<script type="text/x-template" id="v-insert-template">
    <div>
        <h4 v-show="viewTitle">{{viewTitle}}</h4>
        <c-loading v-if="loading"></c-loading>
        <form v-else  enctype="multipart/form-data">
            <div  v-for="(item, key) in renders">
                <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>
                <component v-if="item.type=='r-hidden'" :is="item.type" :c-conf="item" :c-key="getFieldName(key)"></component>
            </div>
        </form>
        <div class="p-3" v-show="actions.length">
            <template v-for="(action,name) in actionsClass">
                <component  v-bind:is="name" v-bind:c-conf="action"></component>
            </template>
        </div>
    </div>
</script>
<script type="text/x-template" id="v-search-template">
    <div class="card-body" v-if="(renders && Object.keys(renders).length > 0)">
        <slot><h4 v-show="viewTitle">{{viewTitle}}</h4></slot>
        <c-loading v-if="loading"></c-loading>
        <form v-else>
            <!-- campi nascosti -->
            <component v-for="(item, key) in renders" v-if="item.type=='r-hidden'" :is="item.type" :c-conf="item" :c-key="getFieldName(key)"></component>

            <div class="row">
                <div class="col-10">
                    <div class="row">
                        <div class="col col-6" v-for="(item, key) in renders">
                            <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>

                        </div>
                    </div>
                </div>
                <div class="col-2 align-middle">
                    <div class="p-3" v-show="actions.length">
                        <template v-for="(action,name) in actionsClass">
                            <component  v-bind:is="name" v-bind:c-conf="action"></component>
                        </template>
                    </div>
                </div>

            </div>

        </form>


    </div>
</script>
<script type="text/x-template" id="v-hasmany-template">
    <div>
        <div>&nbsp;</div>
        <c-loading v-if="loading"></c-loading>
        <div v-else>
            <div  v-for="(item, key) in renders">
                <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>
                <component v-if="item.type=='r-hidden'" :is="item.type"  :c-conf="item" :c-key="getFieldName(key)"></component>

            </div>
        </div>
    </div>
</script>
<script type="text/x-template" id="v-hasmany-view-template">
    <div>
        <div>&nbsp;</div>
        <div v-if="loading">
            loading
        </div>
        <div v-else>
            <div>pippo</div>
            <div  v-for="(item, key) in renders">
                <component v-if="item.type!='r-hidden'" :is="item.template" :c-type="item.type" :c-render="item" :c-key="getFieldName(key)"></component>
                <component v-if="item.type=='r-hidden'" :is="item.type" :c-conf="item" :c-key="getFieldName(key)"></component>
<!--                <component v-bind:is="item.type" v-bind:c-conf="item" v-bind:c-key="renderKey(key)"></component>-->
            </div>
        </div>
        <div v-show="actions.length">
            <template v-for="(action,name) in actionsClass">
                <component  v-bind:is="name" v-bind:c-conf="action"></component>
            </template>
        </div>
    </div>
</script>